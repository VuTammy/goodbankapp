{"ast":null,"code":"import _slicedToArray from\"/Users/tammyvu/Desktop/goodbank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Card from\"./context.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];return/*#__PURE__*/_jsx(Card,{bgcolor:\"light\",txtcolor:\"black\",header:\"Login\",cardWidth:\"40%\",status:status,body:show?/*#__PURE__*/_jsx(LoginForm,{setShow:setShow,setStatus:setStatus}):/*#__PURE__*/_jsx(LoginMsg,{setShow:setShow,setStatus:setStatus})});}function LoginMsg(props){var createAccount=document.getElementById(\"createAccount\");createAccount.style.display='none';var login=document.getElementById(\"login\");login.style.display='none';var deposit=document.getElementById(\"deposit\");deposit.style.display='inline';var withdraw=document.getElementById(\"withdraw\");withdraw.style.display='inline';var transfer=document.getElementById(\"transfer\");transfer.style.display='inline';var balance=document.getElementById(\"balance\");balance.style.display='inline';var allData=document.getElementById(\"allData\");allData.style.display='inline';var logout=document.getElementById(\"logout\");logout.style.display='inline';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Log in successful! Use the nagivation bar to get started.\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",onClick:function onClick(){return props.setShow(true);},children:\"Authenticate again\"})]});}function LoginForm(props){var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),email=_React$useState6[0],setEmail=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),password=_React$useState8[0],setPassword=_React$useState8[1];function handle(){fetch(\"/account/login/\".concat(email,\"/\").concat(password)).then(function(response){return response.text();}).then(function(text){try{var data=JSON.parse(text);props.setStatus('');props.setShow(false);console.log('JSON:',data);localStorage.setItem('balance',data.balance);localStorage.setItem('name',data.name);localStorage.setItem('email',data.email);localStorage.setItem('password',data.password);}catch(err){props.setStatus(\"Email or password incorrect. Please try again.\");setTimeout(function(){return props.setStatus('');},3000);console.log('err:',text);}});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Returning user? Login to begin.\"})}),/*#__PURE__*/_jsx(\"br\",{}),\"Email\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:password,onChange:function onChange(e){return setPassword(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",onClick:handle,children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"#/createaccount/\",className:\"link-dark\",children:\"Don't have an account yet?\"})]});}export default Login;","map":{"version":3,"names":["React","Card","Login","useState","show","setShow","status","setStatus","LoginMsg","props","createAccount","document","getElementById","style","display","login","deposit","withdraw","transfer","balance","allData","logout","LoginForm","email","setEmail","password","setPassword","handle","fetch","then","response","text","data","JSON","parse","console","log","localStorage","setItem","name","err","setTimeout","e","currentTarget","value"],"sources":["/Users/tammyvu/Desktop/goodbank/src/components/login.js"],"sourcesContent":["import React from \"react\";\nimport Card from \"./context.js\";\n\nfunction Login() {\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState(\"\");\n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Login\"\n      cardWidth='40%'\n      status={status}\n      body={show ?\n        <LoginForm setShow={setShow} setStatus={setStatus} /> :\n        <LoginMsg setShow={setShow} setStatus={setStatus} />\n      }\n    />\n  );\n}\n\nfunction LoginMsg(props) {\n    const createAccount = document.getElementById(\"createAccount\");\n    createAccount.style.display = 'none';\n    const login = document.getElementById(\"login\");\n    login.style.display = 'none';\n    const deposit = document.getElementById(\"deposit\");\n    deposit.style.display ='inline';\n    const withdraw = document.getElementById(\"withdraw\");\n    withdraw.style.display ='inline';\n    const transfer = document.getElementById(\"transfer\");\n    transfer.style.display ='inline';\n    const balance = document.getElementById(\"balance\");\n    balance.style.display ='inline';\n    const allData = document.getElementById(\"allData\");\n    allData.style.display ='inline';\n    const logout = document.getElementById(\"logout\");\n    logout.style.display ='inline';\n  return (\n    <>\n      <center><h5>Log in successful! Use the nagivation bar to get started.</h5></center><br/>\n     \n      <button\n        type=\"submit\"\n        className=\"btn btn-danger\"\n        onClick={() => props.setShow(true)}>\n        Authenticate again\n      </button>\n    </>);\n}\n\nfunction LoginForm(props) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handle() {\n    fetch(`/account/login/${email}/${password}`)\n    .then(response => response.text())\n    .then(text => {\n        try {\n            const data = JSON.parse(text);\n            props.setStatus('');\n            props.setShow(false);\n            console.log('JSON:', data);\n            localStorage.setItem('balance', data.balance);\n            localStorage.setItem('name', data.name);\n            localStorage.setItem('email', data.email);\n            localStorage.setItem('password', data.password);\n        } catch(err) {\n            props.setStatus(\"Email or password incorrect. Please try again.\")\n            setTimeout(() => props.setStatus(''),3000);\n            console.log('err:', text);\n        }\n    });\n  }\n\n  return (\n    <>\n\n    <center><b>Returning user? Login to begin.</b></center>\n    <br/>\n\n      Email\n      <br />\n      <input\n        type=\"input\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => setEmail(e.currentTarget.value)}\n      />\n      <br />\n      Password\n      <br />\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.currentTarget.value)}\n      />\n      <br />\n      <button type=\"submit\" className=\"btn btn-danger\" onClick={handle}>\n        Login\n      </button><br/><br/>\n\n      <a href=\"#/createaccount/\" className=\"link-dark\">Don't have an account yet?</a>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}