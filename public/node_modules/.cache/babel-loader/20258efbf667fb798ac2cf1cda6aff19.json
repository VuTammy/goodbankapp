{"ast":null,"code":"var _jsxFileName = \"/Users/tammyvu/Desktop/bankingapp/src/components/deposit.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Deposit() {\n  _s();\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"light\",\n    txtcolor: \"black\",\n    header: \"Deposit\",\n    cardWidth: \"40%\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(DepositForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(DepositMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this);\n}\n_s(Deposit, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n_c = Deposit;\nfunction DepositMsg(props) {\n  var currentBalance = localStorage.getItem('balance');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Deposit successful!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"New balance: $\", currentBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: () => {\n        props.setShow(true);\n        props.setStatus('');\n      },\n      children: \"Deposit again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_c2 = DepositMsg;\nfunction DepositForm(props) {\n  _s2();\n  const [amount, setAmount] = React.useState('');\n  var currentBalance = localStorage.getItem('balance');\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n  function handle() {\n    function validate(field, label) {\n      if (!field || amount < 0) {\n        props.setStatus('Error: ' + label);\n        setTimeout(() => props.setStatus(''), 3000);\n        return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.')) return;\n    fetch(`/account/update/${email}/${amount}`).then(response => response.text()).then(text => {\n      try {\n        const data = JSON.parse(text);\n        props.setStatus(false);\n        props.setShow(false);\n        console.log('JSON:', data);\n        console.log('more', data.value.balance);\n        localStorage.setItem('balance', data.value.balance);\n      } catch (err) {\n        props.setStatus('Deposit failed');\n        console.log('err:', text);\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"Welcome \", name, \"! Use this page to deposit money into your account.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n      children: [\"Account Balance: $\", currentBalance]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }, this), \"Deposit Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 72\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: handle,\n      children: \"Submit Deposit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s2(DepositForm, \"bZHaZdBRaKnkQpBOPbUIgu3hW48=\");\n_c3 = DepositForm;\nexport default Deposit;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Deposit\");\n$RefreshReg$(_c2, \"DepositMsg\");\n$RefreshReg$(_c3, \"DepositForm\");","map":{"version":3,"names":["Deposit","show","setShow","React","useState","status","setStatus","DepositMsg","props","currentBalance","localStorage","getItem","DepositForm","amount","setAmount","name","email","handle","validate","field","label","setTimeout","fetch","then","response","text","data","JSON","parse","console","log","value","balance","setItem","err","e","currentTarget"],"sources":["/Users/tammyvu/Desktop/bankingapp/src/components/deposit.js"],"sourcesContent":["function Deposit(){\n  const [show, setShow]     = React.useState(true);\n  const [status, setStatus] = React.useState(''); \n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Deposit\"\n      cardWidth='40%'\n      status={status}\n      body={show ? \n        <DepositForm setShow={setShow} setStatus={setStatus}/> :\n        <DepositMsg setShow={setShow} setStatus={setStatus}/>}\n    />\n  )\n}\n\nfunction DepositMsg(props){\n  var currentBalance = localStorage.getItem('balance');\n  \n  return (<>\n        <center><h5>\n      Deposit successful!<br/><br/>\n      <em>New balance: ${currentBalance}</em>\n    </h5></center>\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={() => {\n          props.setShow(true); \n          props.setStatus('');\n      }}>\n        Deposit again\n    </button>\n  </>);\n}\n\nfunction DepositForm(props){\n  const [amount, setAmount] = React.useState('');\n  var currentBalance = localStorage.getItem('balance');\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n\n  function handle(){\n    function validate(field, label){\n      if (!field || amount < 0) {\n          props.setStatus('Error: ' + label);\n          setTimeout(() => props.setStatus(''),3000);\n          return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.'))   return;\n    fetch(`/account/update/${email}/${amount}`)\n    .then(response => response.text())\n    .then(text => {\n        try {\n            const data = JSON.parse(text);\n            props.setStatus(false);\n            props.setShow(false);\n            console.log('JSON:', data);\n            console.log('more', data.value.balance);\n            localStorage.setItem('balance', data.value.balance);\n        } catch(err) {\n            props.setStatus('Deposit failed')\n            console.log('err:', text);\n        }\n    });\n  }\n\n  return(<>\n\n  <center><b>Welcome {name}! Use this page to deposit money into your account.</b></center>\n  <br/>\n\n    <em>Account Balance: ${currentBalance}</em>\n    <br/><br/>\n      \n    Deposit Amount<br/>\n    <input type=\"number\" \n      className=\"form-control\" \n      placeholder=\"Enter amount\" \n      value={amount} onChange={e => setAmount(e.currentTarget.value)}/><br/>\n\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={handle}>Submit Deposit</button>\n\n  </>);\n}\n\nexport default Deposit;"],"mappings":"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"},"metadata":{},"sourceType":"module"}