{"ast":null,"code":"var _jsxFileName = \"/Users/tammyvu/Desktop/bankingapp/src/components/transfer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Transfer() {\n  _s();\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"light\",\n    txtcolor: \"black\",\n    header: \"Transfer\",\n    cardWidth: \"40%\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(TransferForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(TransferMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this);\n}\n_s(Transfer, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n_c = Transfer;\nfunction TransferMsg(props) {\n  var currentBalance = localStorage.getItem('balance');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Transfer successful! Your recipient should receive the payment immediately.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"Your balance is now $\", currentBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: () => {\n        props.setShow(true);\n        props.setStatus('');\n      },\n      children: \"Transfer again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_c2 = TransferMsg;\nfunction TransferForm(props) {\n  _s2();\n  const [amount, setAmount] = React.useState('');\n  const [recipientEmail, setEmail] = React.useState(\"\");\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n  function handle() {\n    function validate(field, label) {\n      if (!field || amount < 0) {\n        props.setStatus('Error: ' + label);\n        setTimeout(() => props.setStatus(''), 3000);\n        return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.')) return;\n    fetch(`/account/update/${email}/-${amount}`).then(response => response.text()).then(text => {\n      try {\n        const data = JSON.parse(text);\n        props.setStatus(false);\n        props.setShow(false);\n        console.log('JSON:', data);\n        console.log('more', data.value.balance);\n        localStorage.setItem('balance', data.value.balance);\n      } catch (err) {\n        props.setStatus('Transfer failed');\n        setTimeout(() => props.setStatus(''), 3000);\n        console.log('err:', text);\n      }\n    });\n    fetch(`/account/update/${recipientEmail}/${amount}`).then(response => response.text()).then(text => {\n      try {\n        const data = JSON.parse(text);\n        props.setStatus(false);\n        props.setShow(false);\n        console.log('JSON:', data);\n        console.log('more', data.value.balance);\n        localStorage.setItem('balance', data.value.balance);\n      } catch (err) {\n        props.setStatus('Deposit failed');\n        setTimeout(() => props.setStatus(''), 3000);\n        console.log('err:', text);\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Money transfer is now available! Enter recipient and amount you would like to transfer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: [\"Sender: \", name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), \"Recipient Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"input\",\n      className: \"form-control\",\n      placeholder: \"Enter email\",\n      value: recipientEmail,\n      onChange: e => setEmail(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 60\n    }, this), \"Transfer Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: handle,\n      children: \"Submit Transfer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(TransferForm, \"E6Yu8rKPdtdfRWVxRqTzQMP9y0Y=\");\n_c3 = TransferForm;\nexport default Transfer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Transfer\");\n$RefreshReg$(_c2, \"TransferMsg\");\n$RefreshReg$(_c3, \"TransferForm\");","map":{"version":3,"names":["Transfer","show","setShow","React","useState","status","setStatus","TransferMsg","props","currentBalance","localStorage","getItem","TransferForm","amount","setAmount","recipientEmail","setEmail","name","email","handle","validate","field","label","setTimeout","fetch","then","response","text","data","JSON","parse","console","log","value","balance","setItem","err","e","currentTarget"],"sources":["/Users/tammyvu/Desktop/bankingapp/src/components/transfer.js"],"sourcesContent":["function Transfer() {\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Transfer\"\n      cardWidth='40%'\n      status={status}\n      body={show ?\n          <TransferForm setShow={setShow} setStatus={setStatus} /> :\n          <TransferMsg setShow={setShow} setStatus={setStatus} />}\n    />\n  );\n}\n\nfunction TransferMsg(props){\n  var currentBalance = localStorage.getItem('balance');\n\n    return(<>\n      <center><h5>Transfer successful! Your recipient should receive the payment immediately.</h5></center>\n      <br/>\n      <center><h5><em>Your balance is now ${currentBalance}</em></h5></center>\n      <br/>\n      <button type=\"submit\" \n        className=\"btn btn-danger\" \n        onClick={() => {\n          props.setShow(true);\n          props.setStatus('');\n        }}>\n          Transfer again\n      </button>\n    </>);\n}\n\nfunction TransferForm(props){\n    const [amount, setAmount] = React.useState('');\n    const [recipientEmail, setEmail] = React.useState(\"\");\n    var name = localStorage.getItem('name');\n    var email = localStorage.getItem('email');\n  \n    function handle(){\n      function validate(field, label){\n        if (!field || amount < 0) {\n            props.setStatus('Error: ' + label);\n            setTimeout(() => props.setStatus(''),3000);\n            return false;\n        }\n        return true;\n      }\n      if (!validate(amount, 'Not a valid input.'))   return;\n      fetch(`/account/update/${email}/-${amount}`)\n      .then(response => response.text())\n      .then(text => {\n          try {\n              const data = JSON.parse(text);\n              props.setStatus(false);\n              props.setShow(false);\n              console.log('JSON:', data);\n              console.log('more', data.value.balance);\n              localStorage.setItem('balance', data.value.balance);\n          } catch(err) {\n              props.setStatus('Transfer failed')\n              setTimeout(() => props.setStatus(''),3000);\n              console.log('err:', text);\n          }\n      });\n      fetch(`/account/update/${recipientEmail}/${amount}`)\n      .then(response => response.text())\n      .then(text => {\n          try {\n              const data = JSON.parse(text);\n              props.setStatus(false);\n              props.setShow(false);\n              console.log('JSON:', data);\n              console.log('more', data.value.balance);\n              localStorage.setItem('balance', data.value.balance);\n          } catch(err) {\n              props.setStatus('Deposit failed')\n              setTimeout(() => props.setStatus(''),3000);\n              console.log('err:', text);\n          }\n      });\n    }\n  \n  \n    return(<>\n      <center><b>Money transfer is now available! Enter recipient and amount you would like to transfer.</b></center>\n      <br/>\n\n      <center><em>Sender: {name}</em></center>\n      <br/>\n\n      Recipient Email\n      <input type=\"input\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={recipientEmail} \n        onChange={(e) => setEmail(e.currentTarget.value)}/><br/>\n\n      Transfer Amount<br/>\n      <input type=\"number\" \n        className=\"form-control\" \n        placeholder=\"Enter amount\" \n        value={amount} \n        onChange={e => setAmount(e.currentTarget.value)}/><br/>\n  \n      <button type=\"submit\" \n        className=\"btn btn-danger\" \n        onClick={handle}>Submit Transfer</button>\n  \n    </>);\n  }\n\n  export default Transfer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}