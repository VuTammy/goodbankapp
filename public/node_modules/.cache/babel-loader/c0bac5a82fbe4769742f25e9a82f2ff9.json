{"ast":null,"code":"var _jsxFileName = \"/Users/tammyvu/Desktop/goodbank/src/components/withdraw.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React from \"react\";\nimport Card from \"./context.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar globalBalance = 0;\nfunction Withdraw() {\n  _s();\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"light\",\n    txtcolor: \"black\",\n    header: \"Withdraw\",\n    cardWidth: \"40%\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(WithdrawForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(WithdrawMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n}\n_s(Withdraw, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n_c = Withdraw;\nfunction WithdrawMsg(props) {\n  _s2();\n  const [withdrawBalance, setBalance] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Withdraw successful!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"New balance: $\", setBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: () => {\n        props.setShow(true);\n        props.setStatus('');\n      },\n      children: \"Withdraw again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s2(WithdrawMsg, \"Eos5A++uoN0woqmUJPj7elPcH40=\");\n_c2 = WithdrawMsg;\nfunction WithdrawForm(props) {\n  _s3();\n  const [amount, setAmount] = React.useState('');\n  const [withdrawBalance, setBalance] = React.useState('');\n  setBalance(localStorage.getItem('balance'));\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n  function handle() {\n    function validate(field, label) {\n      if (!field || amount < 0) {\n        props.setStatus('Error: ' + label);\n        setTimeout(() => props.setStatus(''), 3000);\n        return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.')) return;\n    fetch(`/account/update/${email}/-${amount}`).then(response => response.text()).then(text => {\n      try {\n        const data = JSON.parse(text);\n        props.setStatus(false);\n        props.setShow(false);\n        props.setBalance(data.value.balance);\n        console.log('JSON:', data);\n        console.log('more', data.value.balance);\n        localStorage.setItem('balance', data.value.balance);\n      } catch (err) {\n        props.setStatus('Withdraw failed');\n        console.log('err:', text);\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"Welcome \", name, \"! Use this page to withdraw money from your account.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n      children: [\"Account Balance: $\", withdrawBalance]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 10\n    }, this), \"Withdraw Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 57\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: handle,\n      children: \"Submit Withdraw\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s3(WithdrawForm, \"4BbYuHlvvRnwCohUqxLyWBjvxWY=\");\n_c3 = WithdrawForm;\nexport default Withdraw;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Withdraw\");\n$RefreshReg$(_c2, \"WithdrawMsg\");\n$RefreshReg$(_c3, \"WithdrawForm\");","map":{"version":3,"names":["React","Card","globalBalance","Withdraw","show","setShow","useState","status","setStatus","WithdrawMsg","props","withdrawBalance","setBalance","WithdrawForm","amount","setAmount","localStorage","getItem","name","email","handle","validate","field","label","setTimeout","fetch","then","response","text","data","JSON","parse","value","balance","console","log","setItem","err","e","currentTarget"],"sources":["/Users/tammyvu/Desktop/goodbank/src/components/withdraw.js"],"sourcesContent":["import React from \"react\";\nimport Card from \"./context.js\";\n\nvar globalBalance = 0;\n\nfunction Withdraw(){\n  const [show, setShow]     = React.useState(true);\n  const [status, setStatus] = React.useState('');  \n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Withdraw\"\n      cardWidth='40%'\n      status={status}\n      body={show ? \n        <WithdrawForm setShow={setShow} setStatus={setStatus}/> :\n        <WithdrawMsg setShow={setShow} setStatus={setStatus}/>}\n    />\n  );\n}\n\nfunction WithdrawMsg(props){\n  const [withdrawBalance, setBalance] = React.useState('');\n\n  return(<>\n    <center><h5>\n      Withdraw successful!<br/><br/>\n      <em>New balance: ${setBalance}</em>\n    </h5></center>\n    <br/>\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={() => {\n        props.setShow(true);\n        props.setStatus('');\n      }}>\n        Withdraw again\n    </button>\n  </>);\n}\n\nfunction WithdrawForm(props){\n  const [amount, setAmount] = React.useState('');\n  const [withdrawBalance, setBalance] = React.useState('');\n  setBalance(localStorage.getItem('balance'));\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n\n  function handle(){\n    function validate(field, label){\n      if (!field || amount < 0) {\n          props.setStatus('Error: ' + label);\n          setTimeout(() => props.setStatus(''),3000);\n          return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.'))   return;\n    fetch(`/account/update/${email}/-${amount}`)\n    .then(response => response.text())\n    .then(text => {\n        try {\n            const data = JSON.parse(text);\n            props.setStatus(false);\n            props.setShow(false);\n            props.setBalance(data.value.balance);\n            console.log('JSON:', data);\n            console.log('more', data.value.balance);\n            localStorage.setItem('balance', data.value.balance);\n        } catch(err) {\n            props.setStatus('Withdraw failed')\n            console.log('err:', text);\n        }\n    });\n  }\n\n\n  return(<>\n\n    <center><b>Welcome {name}! Use this page to withdraw money from your account.</b></center>\n    <br/>\n\n    <em>Account Balance: ${withdrawBalance}</em>\n    <br/><br/>\n\n    Withdraw Amount<br/>\n    <input type=\"number\" \n      className=\"form-control\" \n      placeholder=\"Enter amount\" \n      value={amount} \n      onChange={e => setAmount(e.currentTarget.value)}/><br/>\n\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={handle}>Submit Withdraw</button>\n\n  </>);\n}\n\nexport default Withdraw;"],"mappings":"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"},"metadata":{},"sourceType":"module"}