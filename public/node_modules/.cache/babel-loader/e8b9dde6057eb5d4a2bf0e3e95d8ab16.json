{"ast":null,"code":"var _jsxFileName = \"/Users/tammyvu/Desktop/bankingapp/src/components/withdraw.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Withdraw() {\n  _s();\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"light\",\n    txtcolor: \"black\",\n    header: \"Withdraw\",\n    cardWidth: \"40%\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(WithdrawForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(WithdrawMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this);\n}\n_s(Withdraw, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n_c = Withdraw;\nfunction WithdrawMsg(props) {\n  var currentBalance = localStorage.getItem('balance');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Withdraw successful!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"New balance: $\", currentBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: () => {\n        props.setShow(true);\n        props.setStatus('');\n      },\n      children: \"Withdraw again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_c2 = WithdrawMsg;\nfunction WithdrawForm(props) {\n  _s2();\n  const [amount, setAmount] = React.useState('');\n  var currentBalance = localStorage.getItem('balance');\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n  function handle() {\n    function validate(field, label) {\n      if (!field || amount < 0) {\n        props.setStatus('Error: ' + label);\n        setTimeout(() => props.setStatus(''), 3000);\n        return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.')) return;\n    fetch(`/account/update/${email}/-${amount}`).then(response => response.text()).then(text => {\n      try {\n        const data = JSON.parse(text);\n        props.setStatus(false);\n        props.setShow(false);\n        console.log('JSON:', data);\n        console.log('more', data.value.balance);\n        localStorage.setItem('balance', data.value.balance);\n      } catch (err) {\n        props.setStatus('Withdraw failed');\n        console.log('err:', text);\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"Welcome \", name, \"! Use this page to withdraw money from your account.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n      children: [\"Account Balance: $\", currentBalance]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 10\n    }, this), \"Withdraw Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 57\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      onClick: handle,\n      children: \"Submit Withdraw\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s2(WithdrawForm, \"bZHaZdBRaKnkQpBOPbUIgu3hW48=\");\n_c3 = WithdrawForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Withdraw\");\n$RefreshReg$(_c2, \"WithdrawMsg\");\n$RefreshReg$(_c3, \"WithdrawForm\");","map":{"version":3,"names":["Withdraw","show","setShow","React","useState","status","setStatus","WithdrawMsg","props","currentBalance","localStorage","getItem","WithdrawForm","amount","setAmount","name","email","handle","validate","field","label","setTimeout","fetch","then","response","text","data","JSON","parse","console","log","value","balance","setItem","err","e","currentTarget"],"sources":["/Users/tammyvu/Desktop/bankingapp/src/components/withdraw.js"],"sourcesContent":["function Withdraw(){\n  const [show, setShow]     = React.useState(true);\n  const [status, setStatus] = React.useState('');  \n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Withdraw\"\n      cardWidth='40%'\n      status={status}\n      body={show ? \n        <WithdrawForm setShow={setShow} setStatus={setStatus}/> :\n        <WithdrawMsg setShow={setShow} setStatus={setStatus}/>}\n    />\n  );\n}\n\nfunction WithdrawMsg(props){\n  var currentBalance = localStorage.getItem('balance');\n\n  return(<>\n    <center><h5>\n      Withdraw successful!<br/><br/>\n      <em>New balance: ${currentBalance}</em>\n    </h5></center>\n    <br/>\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={() => {\n        props.setShow(true);\n        props.setStatus('');\n      }}>\n        Withdraw again\n    </button>\n  </>);\n}\n\nfunction WithdrawForm(props){\n  const [amount, setAmount] = React.useState('');\n  var currentBalance = localStorage.getItem('balance');\n  var name = localStorage.getItem('name');\n  var email = localStorage.getItem('email');\n\n  function handle(){\n    function validate(field, label){\n      if (!field || amount < 0) {\n          props.setStatus('Error: ' + label);\n          setTimeout(() => props.setStatus(''),3000);\n          return false;\n      }\n      return true;\n    }\n    if (!validate(amount, 'Not a valid input.'))   return;\n    fetch(`/account/update/${email}/-${amount}`)\n    .then(response => response.text())\n    .then(text => {\n        try {\n            const data = JSON.parse(text);\n            props.setStatus(false);\n            props.setShow(false);\n            console.log('JSON:', data);\n            console.log('more', data.value.balance);\n            localStorage.setItem('balance', data.value.balance);\n        } catch(err) {\n            props.setStatus('Withdraw failed')\n            console.log('err:', text);\n        }\n    });\n  }\n\n\n  return(<>\n\n    <center><b>Welcome {name}! Use this page to withdraw money from your account.</b></center>\n    <br/>\n\n    <em>Account Balance: ${currentBalance}</em>\n    <br/><br/>\n\n    Withdraw Amount<br/>\n    <input type=\"number\" \n      className=\"form-control\" \n      placeholder=\"Enter amount\" \n      value={amount} \n      onChange={e => setAmount(e.currentTarget.value)}/><br/>\n\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={handle}>Submit Withdraw</button>\n\n  </>);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}