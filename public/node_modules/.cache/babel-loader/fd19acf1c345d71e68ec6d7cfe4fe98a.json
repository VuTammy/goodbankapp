{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tammyvu/Desktop/goodbank/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tammyvu/Desktop/goodbank/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tammyvu/Desktop/goodbank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Card from\"./context.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateAccount(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),name=_React$useState6[0],setName=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),email=_React$useState8[0],setEmail=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),password=_React$useState10[0],setPassword=_React$useState10[1];return/*#__PURE__*/_jsx(Card,{bgcolor:\"light\",txtcolor:\"black\",header:\"Create Account\",cardWidth:\"40%\",status:status,body:show?/*#__PURE__*/_jsx(CreateForm,{setShow:setShow,setStatus:setStatus,setName:setName,setEmail:setEmail,setPassword:setPassword,name:name,email:email,password:password}):/*#__PURE__*/_jsx(CreateMsg,{setShow:setShow,setName:setName,setEmail:setEmail,setPassword:setPassword})});}function CreateMsg(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Account successfully created. Welcome to the bank! Please log in to begin\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",onClick:function onClick(){props.setShow(true);},children:\"Add another account\"})]});}function CreateForm(props){function validate(field,label){if(!field){props.setStatus('Please enter '+label);setTimeout(function(){return props.setStatus('');},3000);return false;}return true;}var validateEmail=function validateEmail(email){return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);};function handle(){var passwordLength=8;if(!validate(props.name,'name'))return;if(!validate(props.email,'email'))return;if(!validate(props.password,'password'))return;if(!validateEmail(props.email)){props.setStatus('Not a valid email. Please try again');setTimeout(function(){return props.setStatus('');},3000);return;}if(props.password.length>=passwordLength){console.log(props.name,props.email,props.password);var url=\"/account/create/\".concat(props.name,\"/\").concat(props.email,\"/\").concat(props.password);_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}))();props.setShow(false);}else{props.setStatus(\"Not a valid password. Must be 8 or more characters\");setTimeout(function(){return props.setStatus('');},3000);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Start banking with us by creating an account!\"})}),/*#__PURE__*/_jsx(\"br\",{}),\"Name\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",type:\"input\",className:\"form-control\",placeholder:\"Enter name\",value:props.name,onChange:function onChange(e){return props.setName(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),\"Email\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"input\",style:{},className:\"form-control\",placeholder:\"Enter email\",value:props.email,onChange:function onChange(e){return props.setEmail(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:props.password,onChange:function onChange(e){return props.setPassword(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",onClick:handle,children:\"Create Account\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"#/login/\",className:\"link-dark\",children:\"Already have an account?\"})]});}export default CreateAccount;","map":{"version":3,"names":["React","Card","CreateAccount","useState","show","setShow","status","setStatus","name","setName","email","setEmail","password","setPassword","CreateMsg","props","CreateForm","validate","field","label","setTimeout","validateEmail","String","toLowerCase","match","handle","passwordLength","length","console","log","url","fetch","res","json","data","e","currentTarget","value"],"sources":["/Users/tammyvu/Desktop/goodbank/src/components/createaccount.js"],"sourcesContent":["import React from \"react\";\nimport Card from \"./context.js\";\n\nfunction CreateAccount(){\n  const [show, setShow]     = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [name, setName]         = React.useState('');\n  const [email, setEmail]       = React.useState('');\n  const [password, setPassword] = React.useState(''); \n\n  return (\n    <Card\n      bgcolor=\"light\"\n      txtcolor=\"black\"\n      header=\"Create Account\"\n      cardWidth='40%'\n      status={status}\n      body={show ? \n        <CreateForm setShow={setShow} setStatus={setStatus} setName={setName} setEmail={setEmail} setPassword={setPassword} name={name} email={email} password={password}/> : \n        <CreateMsg setShow={setShow} setName={setName} setEmail={setEmail} setPassword={setPassword}/>}\n    />\n  )\n}\n\nfunction CreateMsg(props){\n  return(<>\n    <h5>Account successfully created. Welcome to the bank! Please log in to begin</h5>\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={() => {\n        props.setShow(true)}}>Add another account</button>\n  </>);\n}\n\nfunction CreateForm(props){\n  function validate(field, label) {\n    if (!field) {\n        props.setStatus('Please enter ' + label);\n        setTimeout(() => props.setStatus(''),3000);\n        return false;\n    } \n    return true;\n  }\n\n  const validateEmail = (email) => {\n    return String(email)\n      .toLowerCase()\n      .match(\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n  };\n  \n  function handle() {\n    const passwordLength = 8;\n    if (!validate(props.name, 'name')) return;\n    if (!validate(props.email, 'email')) return;\n    if (!validate(props.password, 'password')) return;\n    if (!validateEmail(props.email)){\n      props.setStatus('Not a valid email. Please try again');\n      setTimeout(() => props.setStatus(''),3000);\n      return;\n    }\n    if (props.password.length >= passwordLength) {\n      console.log(props.name, props.email, props.password);\n      const url = `/account/create/${props.name}/${props.email}/${props.password}`;\n      (async () => {\n        var res = await fetch(url);\n        var data = await res.json();\n        console.log(data);\n      })();\n      props.setShow(false);\n    } else {\n      props.setStatus(`Not a valid password. Must be 8 or more characters`);\n      setTimeout(() => props.setStatus(''),3000);\n    }\n  }\n\n  return (<>\n\n    <center><b>Start banking with us by creating an account!</b></center>\n    <br/>\n\n    Name<br/>\n    <input id=\"name\"\n      type=\"input\" \n      className=\"form-control\" \n      placeholder=\"Enter name\" \n      value={props.name} \n      onChange={e => props.setName(e.currentTarget.value)} /><br/>\n\n    Email<br/>\n    <input id=\"email\"\n      type=\"input\"\n      style={{}} \n      className=\"form-control\" \n      placeholder=\"Enter email\" \n      value={props.email} \n      onChange={e => props.setEmail(e.currentTarget.value)}/><br/>\n\n    Password<br/>\n    <input id=\"password\"\n      type=\"password\" \n      className=\"form-control\" \n      placeholder=\"Enter password\" \n      value={props.password} \n      onChange={e => props.setPassword(e.currentTarget.value)}/><br/>\n\n    <button type=\"submit\" \n      className=\"btn btn-danger\" \n      onClick={handle}>Create Account</button><br/><br/>\n\n    <a href=\"#/login/\" className=\"link-dark\">Already have an account?</a>\n  </>);\n}\n\nexport default CreateAccount;"],"mappings":"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"},"metadata":{},"sourceType":"module"}